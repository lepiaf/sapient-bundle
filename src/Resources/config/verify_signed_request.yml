services:
  lepiaf\SapientBundle\Service\PublicKeyGetter:
    arguments:
      - "%sapient.client_public_keys%"
      - "%sapient.server_public_keys%"
  lepiaf\SapientBundle\EventSubscriber\VerifyRequestSubscriber:
    arguments:
      - '@Symfony\Bridge\PsrHttpMessage\Factory\DiactorosFactory'
      - '@ParagonIE\Sapient\Sapient'
      - '@lepiaf\SapientBundle\Service\PublicKeyGetter'
    tags:
      - { name: kernel.event_subscriber }
